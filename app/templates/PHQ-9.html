{% extends "base.html" %}
{% block title %} PHQ-9 Questionnaire {% endblock %}

{% block head %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

{% endblock %}

{% block content %}

{% if score %}

<h3> PHQ-9 Score: {{ score }}</h3>

{% endif %}

{% if phq9_emotional_score %}

<h3> Emotional Score: {{phq9_emotional_score}}  </h3>

{% endif %}

<div class="container d-flex justify-content-center align-items-center" style="height: 50vh">
    <div class="card" style="width: 50%">
        <div class="card-body">
            <h2 class="card-title">PHQ-9 Questionnaire</h2>
            <form id="phq9-form" method="post" action="{{ url_for('main.PHQ9_Questionnaire') }}">
                {{ form.csrf_token }}
                <input type="hidden" id="captruedImage" name="capturedImage">
                <div class="question" id="question1">
                    <fieldset>
                        <label for="{{ form.question1.id }}">{{ form.question1.label }}</label>
                        {{ form.question1 (name='question1')}} 
                    </fieldset>
                </div>
                
                <div class="question" id="question2" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question2.id }}">{{ form.question2.label }}</label>
                        {{ form.question2 (name='question2')}}
                    </fieldset>
                </div>

                <div class="question" id="question3" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question3.id }}">{{ form.question3.label }}</label>
                        {{ form.question3 (name='question3')}}
                    </fieldset>
                </div>

                <div class="question" id="question4" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question4.id }}">{{ form.question4.label }}</label>
                        {{ form.question4 (name='question4')}}
                    </fieldset>
                </div>

                <div class="question" id="question5" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question5.id }}">{{ form.question5.label }}</label>
                        {{ form.question5 (name='question5')}}
                    </fieldset>
                </div>

                <div class="question" id="question6" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question6.id }}">{{ form.question6.label }}</label>
                        {{ form.question6 (name='question6')}}
                    </fieldset>
                </div>

                <div class="question" id="question7" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question7.id }}">{{ form.question7.label }}</label>
                        {{ form.question7 (name='question7')}}
                    </fieldset>
                </div>

                <div class="question" id="question8" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question8.id }}">{{ form.question8.label }}</label>
                        {{ form.question8 (name='question8')}}
                    </fieldset>
                </div>

                <div class="question" id="question9" style="display:none;">
                    <fieldset>
                        <label for="{{ form.question9.id }}">{{ form.question9.label }}</label>
                        {{ form.question9 (name='question9')}}
                    </fieldset>
                </div>
                <button class="btn btn-secondary" id="back" type="button" onclick="showPreviousQuestion()">Previous</button>
                <button class="btn btn-secondary" id="snap" type="button" onclick="showNextQuestion()">Next</button>
            </form>
        </div>
    </div>
</div>

<div class="webcam" style="" hidden>
    <video id="video" width="640" height="480" autoplay></video>
    <canvas id="webcamCanvas" width="640" height="480" style="display: none;"></canvas>
</div>

<script src="{{ url_for ('static', filename='js/phq9/phq.js') }}"></script>

{% endblock %}